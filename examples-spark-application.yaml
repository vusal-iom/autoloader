apiVersion: sparkoperator.k8s.io/v1beta2
kind: SparkApplication
metadata:
  creationTimestamp: '2025-11-03T19:04:28Z'
  generation: 1
  labels:
    iomete.com/appType: compute
    iomete.com/domain: default
    iomete.com/externalId: cc11bb67-b290-45bd-bd33-d00f82f3deb8
  name: cc-compute
  namespace: spark-resources
spec:
  arguments: []
  deps:
    files: []
    jars: []
    packages: []
    pyFiles: []
    repositories: []
  driver:
    annotations:
      sidecar.istio.io/inject: 'false'
    coreLimit: 1000m
    coreRequest: 1000m
    cores: 2
    env:
      - name: IOMETE_COMPUTE_ID
        value: cc11bb67-b290-45bd-bd33-d00f82f3deb8
      - name: IOMETE_IDENTITY_SERVICE_URL
        value: http://iom-identity.iomete-system.svc.cluster.local
      - name: IOMETE_CORE_SERVICE_URL
        value: http://iom-core.iomete-system.svc.cluster.local
      - name: IOMETE_COMPUTE_NAME
        value: compute
      - name: IOMETE_DOMAIN
        value: default
      - name: IOMETE_RELEASE_NAMESPACE
        value: iomete-system
      - name: IOMETE_CLUSTER_DNS
        value: cluster.local
      - name: HADOOP_CONF_DIR
        value: /etc/hadoop/conf
      - name: HTTP2_DISABLE
        value: 'true'
      - name: AWS_REGION
        value: us-east-1
      - name: RELEASE_NAMESPACE
        value: iomete-system
      - name: CLUSTER_DOMAIN
        value: cluster.local
      - name: IOMETE_COMPUTE_NAMESPACE
        value: spark-resources
    javaOptions: >-
      -Dsoftware.amazon.awssdk.http.service.impl=software.amazon.awssdk.http.apache.ApacheSdkHttpService
      -Djavax.net.ssl.trustStore=/etc/ssl/iomete-certs/truststore.jks
      -Djavax.net.ssl.trustStorePassword=changeit
    memory: 7272m
    podSecurityContext:
      fsGroup: 1001
    priorityClassName: iomete-compute
    secrets:
      - name: hadoop-config
        path: /etc/hadoop/conf
        secretType: Generic
    securityContext:
      allowPrivilegeEscalation: false
      capabilities:
        drop:
          - ALL
      runAsNonRoot: true
      runAsUser: 1001
      seccompProfile:
        type: RuntimeDefault
    serviceAccount: lakehouse-service-account
    volumeMounts:
      - mountPath: /etc/ssl/iomete-certs
        name: truststore-volume
  executor:
    annotations:
      sidecar.istio.io/inject: 'false'
    coreLimit: 1000m
    coreRequest: 1000m
    cores: 2
    env:
      - name: IOMETE_COMPUTE_ID
        value: cc11bb67-b290-45bd-bd33-d00f82f3deb8
      - name: IOMETE_IDENTITY_SERVICE_URL
        value: http://iom-identity.iomete-system.svc.cluster.local
      - name: IOMETE_CORE_SERVICE_URL
        value: http://iom-core.iomete-system.svc.cluster.local
      - name: IOMETE_COMPUTE_NAME
        value: compute
      - name: IOMETE_DOMAIN
        value: default
      - name: IOMETE_RELEASE_NAMESPACE
        value: iomete-system
      - name: IOMETE_CLUSTER_DNS
        value: cluster.local
      - name: HADOOP_CONF_DIR
        value: /etc/hadoop/conf
      - name: AWS_REGION
        value: us-east-1
      - name: RELEASE_NAMESPACE
        value: iomete-system
      - name: CLUSTER_DOMAIN
        value: cluster.local
    instances: 1
    javaOptions: >-
      -Dsoftware.amazon.awssdk.http.service.impl=software.amazon.awssdk.http.apache.ApacheSdkHttpService
      -Djavax.net.ssl.trustStore=/etc/ssl/iomete-certs/truststore.jks
      -Djavax.net.ssl.trustStorePassword=changeit
    memory: 1665m
    podSecurityContext:
      fsGroup: 1001
    priorityClassName: iomete-compute
    secrets:
      - name: hadoop-config
        path: /etc/hadoop/conf
        secretType: Generic
    securityContext:
      allowPrivilegeEscalation: false
      capabilities:
        drop:
          - ALL
      runAsNonRoot: true
      runAsUser: 1001
      seccompProfile:
        type: RuntimeDefault
    serviceAccount: lakehouse-service-account
    volumeMounts:
      - mountPath: /etc/ssl/iomete-certs
        name: truststore-volume
      - mountPath: /local1
        name: spark-local-dir-1
  hadoopConf:
    hive.metastore.uris: thrift://metastore-service.iomete-system.svc.cluster.local:9083
    hive.metastore.warehouse.dir: s3a://lakehouse/data/
    hive.server2.thrift.http.max.worker.threads: '500'
    hive.server2.thrift.http.min.worker.threads: '5'
    hive.server2.thrift.http.path: cliservice
    hive.server2.thrift.http.port: '10000'
    hive.server2.transport.mode: http
  image: iomete.azurecr.io/iomete/spark-py:3.5.5-latest
  imagePullPolicy: Always
  imagePullSecrets: []
  mainApplicationFile: spark-internal
  mainClass: com.iomete.spark.IometeSparkServer
  mode: cluster
  proxyUser: root
  pythonVersion: '3'
  restartPolicy:
    onFailureRetries: 5
    onFailureRetryInterval: 10
    onSubmissionFailureRetries: 5
    onSubmissionFailureRetryInterval: 10
    type: OnFailure
  sparkConf:
    abhishek-test: asfasdfasdf
    abhishek-test-1: asdfasdfasdf
    fs.s3a.access.key: minioadmin
    fs.s3a.aws.credentials.provider: org.apache.hadoop.fs.s3a.SimpleAWSCredentialsProvider
    fs.s3a.endpoint: https://minio.infra.svc.cluster.local:9000
    fs.s3a.path.style.access: 'true'
    fs.s3a.secret.key: minioadmin
    spark.connect.grpc.interceptor.classes: org.apache.spark.sql.connect.service.AuthenticationInterceptor
    spark.driver.extraClassPath: /opt/spark/jars/slf4j-api-2.0.7.jar
    spark.driver.maxResultSize: 2048m
    spark.executor.extraClassPath: /opt/spark/jars/slf4j-api-2.0.7.jar
    spark.extraListeners: org.apache.spark.sql.hive.thriftserver.ui.IometeSparkListener
    spark.hadoop.hive.metastore.execute.setugi: 'false'
    spark.hadoop.hive.security.authenticator.manager: org.apache.hadoop.hive.ql.security.SessionStateConfigUserAuthenticator
    spark.hadoop.user.name: root
    spark.iomete.arrow.flight.port: '33333'
    spark.iomete.arrow.flight.sql.arrowFetch: 'false'
    spark.iomete.arrow.flight.sql.arrowFetch.storage.s3.accessKey: minioadmin
    spark.iomete.arrow.flight.sql.arrowFetch.storage.s3.bucket: lakehouse
    spark.iomete.arrow.flight.sql.arrowFetch.storage.s3.endpoint: https://minio-dev.iomete.cloud
    spark.iomete.arrow.flight.sql.arrowFetch.storage.s3.prefix: arrow-fetch
    spark.iomete.arrow.flight.sql.arrowFetch.storage.s3.region: us-east-1
    spark.iomete.arrow.flight.sql.arrowFetch.storage.s3.secretKey: minioadmin
    spark.iomete.arrow.flight.sql.arrowFetch.storage.type: s3
    spark.iomete.arrow.flight.sql.eventManager.enabled: 'true'
    spark.iomete.catalogUpdates.enabled: 'true'
    spark.iomete.core.service.url: http://iom-core.iomete-system.svc.cluster.local
    spark.iomete.domain: default
    spark.iomete.listener.db.host: postgresql.infra.svc.cluster.local
    spark.iomete.listener.db.name: iomete_sql_db
    spark.iomete.listener.db.password: iomete_pass
    spark.iomete.listener.db.port: '5432'
    spark.iomete.listener.db.user: iomete_user
    spark.iomete.listener.external.query.id.enabled: 'true'
    spark.iomete.listener.spark.plan.enabled: 'true'
    spark.kryoserializer.buffer.max: 1024m
    spark.kubernetes.allocation.batch.delay: 2s
    spark.kubernetes.driver.annotation.prometheus.io/interval: 15s
    spark.kubernetes.driver.annotation.prometheus.io/path: /metrics/executors/prometheus
    spark.kubernetes.driver.annotation.prometheus.io/port: '4040'
    spark.kubernetes.driver.annotation.prometheus.io/scheme: http
    spark.kubernetes.driver.annotation.prometheus.io/scrape: 'true'
    spark.kubernetes.driver.ownPersistentVolumeClaim: 'false'
    spark.kubernetes.driver.podTemplateFile: /etc/extra/compute-cluster-driver-pod-template.yaml
    spark.kubernetes.executor.volumes.persistentVolumeClaim.spark-local-dir-1.options.sizeLimit: 10Gi
    spark.kubernetes.executor.volumes.persistentVolumeClaim.spark-local-dir-1.options.storageClass: default
    spark.redaction.regex: >-
      (?i)secret|password|token|spark.sql.catalog.spark_catalog.uri|jdbc.username|^abhishek-test$
    spark.scheduler.mode: FAIR
    spark.scheduler.pool: production
    spark.serializer: org.apache.spark.serializer.KryoSerializer
    spark.sql.adaptive.enabled: 'true'
    spark.sql.catalog.9catalog: org.apache.iceberg.spark.SparkCatalog
    spark.sql.catalog.9catalog.client.region: us-east-1
    spark.sql.catalog.9catalog.io-impl: org.apache.iceberg.hadoop.HadoopFileIO
    spark.sql.catalog.9catalog.s3.access-key-id: minioadmin
    spark.sql.catalog.9catalog.s3.endpoint: https://minio.infra.svc.cluster.local:9000
    spark.sql.catalog.9catalog.s3.path-style-access: 'true'
    spark.sql.catalog.9catalog.s3.secret-access-key: minioadmin
    spark.sql.catalog.9catalog.type: rest
    spark.sql.catalog.9catalog.uri: >-
      http://iom-rest-catalog.iomete-system.svc.cluster.local/internal/catalogs/9catalog
    spark.sql.catalog.9catalog.warehouse: s3://lakehouse/data/
    spark.sql.catalog.abhishek_catalog: org.apache.iceberg.spark.SparkCatalog
    spark.sql.catalog.abhishek_catalog.client.region: us-east-1
    spark.sql.catalog.abhishek_catalog.io-impl: org.apache.iceberg.aws.s3.S3FileIO
    spark.sql.catalog.abhishek_catalog.s3.access-key-id: minioadmin
    spark.sql.catalog.abhishek_catalog.s3.endpoint: https://minio-dev.iomete.cloud
    spark.sql.catalog.abhishek_catalog.s3.path-style-access: 'true'
    spark.sql.catalog.abhishek_catalog.s3.secret-access-key: minioadmin
    spark.sql.catalog.abhishek_catalog.type: rest
    spark.sql.catalog.abhishek_catalog.uri: >-
      http://iom-rest-catalog.iomete-system.svc.cluster.local/internal/catalogs/abhishek_catalog
    spark.sql.catalog.abhishek_catalog.warehouse: s3://lakehouse/test-data
    spark.sql.catalog.altay_test_logs: org.apache.spark.sql.execution.datasources.v2.jdbc.JDBCTableCatalog
    spark.sql.catalog.altay_test_logs.driver: org.postgresql.Driver
    spark.sql.catalog.altay_test_logs.password: iomete_pass
    spark.sql.catalog.altay_test_logs.url: >-
      jdbc:postgresql://postgresql.infra.svc.cluster.local:5432/iomete_iam_db?ssl=true&sslmode=verify-full&sslfactory=org.postgresql.ssl.DefaultJavaSSLFactory&currentSchema=public
    spark.sql.catalog.altay_test_logs.user: iomete_user
    spark.sql.catalog.altay_test_sql: org.apache.spark.sql.execution.datasources.v2.jdbc.JDBCTableCatalog
    spark.sql.catalog.altay_test_sql.driver: org.postgresql.Driver
    spark.sql.catalog.altay_test_sql.password: iomete_pass
    spark.sql.catalog.altay_test_sql.spark.iomete.catalogUpdates.enabled: 'true'
    spark.sql.catalog.altay_test_sql.url: >-
      jdbc:postgresql://postgresql.infra.svc.cluster.local:5432/iomete_sql_db?ssl=true&sslmode=require&currentSchema=public
    spark.sql.catalog.altay_test_sql.user: iomete_user
    spark.sql.catalog.compaction_demo_catalog: org.apache.iceberg.spark.SparkCatalog
    spark.sql.catalog.compaction_demo_catalog.client.region: us-east-1
    spark.sql.catalog.compaction_demo_catalog.io-impl: org.apache.iceberg.aws.s3.S3FileIO
    spark.sql.catalog.compaction_demo_catalog.s3.access-key-id: minioadmin
    spark.sql.catalog.compaction_demo_catalog.s3.endpoint: https://minio.infra.svc.cluster.local:9000
    spark.sql.catalog.compaction_demo_catalog.s3.path-style-access: 'true'
    spark.sql.catalog.compaction_demo_catalog.s3.secret-access-key: minioadmin
    spark.sql.catalog.compaction_demo_catalog.type: rest
    spark.sql.catalog.compaction_demo_catalog.uri: >-
      http://iom-rest-catalog.iomete-system.svc.cluster.local/internal/catalogs/compaction_demo_catalog
    spark.sql.catalog.compaction_demo_catalog.warehouse: s3://lakehouse/compaction_demo_catalog/data
    spark.sql.catalog.dw: org.apache.iceberg.spark.SparkCatalog
    spark.sql.catalog.dw.client.region: us-east-1
    spark.sql.catalog.dw.io-impl: org.apache.iceberg.aws.s3.S3FileIO
    spark.sql.catalog.dw.s3.access-key-id: minioadmin
    spark.sql.catalog.dw.s3.endpoint: https://minio.infra.svc.cluster.local:9000
    spark.sql.catalog.dw.s3.path-style-access: 'true'
    spark.sql.catalog.dw.s3.secret-access-key: minioadmin
    spark.sql.catalog.dw.type: rest
    spark.sql.catalog.dw.uri: >-
      http://iom-rest-catalog.iomete-system.svc.cluster.local/internal/catalogs/dw
    spark.sql.catalog.dw.warehouse: s3://lakehouse/data/dw
    spark.sql.catalog.external_catalog: org.apache.iceberg.spark.SparkCatalog
    spark.sql.catalog.external_catalog.client.region: us-east-1
    spark.sql.catalog.external_catalog.io-impl: org.apache.iceberg.aws.s3.S3FileIO
    spark.sql.catalog.external_catalog.s3.access-key-id: minioadmin
    spark.sql.catalog.external_catalog.s3.endpoint: https://minio.infra.svc.cluster.local:9000
    spark.sql.catalog.external_catalog.s3.path-style-access: 'true'
    spark.sql.catalog.external_catalog.s3.secret-access-key: minioadmin
    spark.sql.catalog.external_catalog.token: '123'
    spark.sql.catalog.external_catalog.type: rest
    spark.sql.catalog.external_catalog.uri: https://dev.iomete.cloud/catalogs/external_catalog
    spark.sql.catalog.external_catalog.warehouse: s3://lakehouse
    spark.sql.catalog.external_oracle_db: org.apache.spark.sql.execution.datasources.v2.jdbc.JDBCTableCatalog
    spark.sql.catalog.external_oracle_db.driver: oracle.jdbc.OracleDriver
    spark.sql.catalog.external_oracle_db.oracle.jdbc.mapDateToTimestamp: 'false'
    spark.sql.catalog.external_oracle_db.password: IOMETE_PASS
    spark.sql.catalog.external_oracle_db.url: jdbc:oracle:thin:@oracle-db.infra.svc.cluster.local:1521/FREEPDB1
    spark.sql.catalog.external_oracle_db.user: iomete_user
    spark.sql.catalog.postgresql_iceberg_db: org.apache.spark.sql.execution.datasources.v2.jdbc.JDBCTableCatalog
    spark.sql.catalog.postgresql_iceberg_db.driver: org.postgresql.Driver
    spark.sql.catalog.postgresql_iceberg_db.password: iomete_pass
    spark.sql.catalog.postgresql_iceberg_db.url: >-
      jdbc:postgresql://postgresql.infra.svc.cluster.local:5432/iomete_iceberg_db?ssl=true&sslmode=require&currentSchema=public
    spark.sql.catalog.postgresql_iceberg_db.user: iomete_user
    spark.sql.catalog.release_test_catalog: org.apache.iceberg.spark.SparkCatalog
    spark.sql.catalog.release_test_catalog.client.region: us-east-1
    spark.sql.catalog.release_test_catalog.io-impl: org.apache.iceberg.aws.s3.S3FileIO
    spark.sql.catalog.release_test_catalog.s3.access-key-id: minioadmin
    spark.sql.catalog.release_test_catalog.s3.endpoint: https://minio.infra.svc.cluster.local:9000
    spark.sql.catalog.release_test_catalog.s3.path-style-access: 'true'
    spark.sql.catalog.release_test_catalog.s3.secret-access-key: minioadmin
    spark.sql.catalog.release_test_catalog.type: rest
    spark.sql.catalog.release_test_catalog.uri: >-
      http://iom-rest-catalog.iomete-system.svc.cluster.local/internal/catalogs/release_test_catalog
    spark.sql.catalog.release_test_catalog.warehouse: s3://lakehouse/release
    spark.sql.catalog.rocco_catalog: org.apache.iceberg.spark.SparkCatalog
    spark.sql.catalog.rocco_catalog.client.region: us-east-1
    spark.sql.catalog.rocco_catalog.http-client.apache.tcp-keep-alive-enabled: 'true'
    spark.sql.catalog.rocco_catalog.io-impl: org.apache.iceberg.aws.s3.S3FileIO
    spark.sql.catalog.rocco_catalog.rtest: rtest
    spark.sql.catalog.rocco_catalog.s3.access-key-id: minioadmin
    spark.sql.catalog.rocco_catalog.s3.endpoint: https://minio.infra.svc.cluster.local:9000
    spark.sql.catalog.rocco_catalog.s3.path-style-access: 'true'
    spark.sql.catalog.rocco_catalog.s3.secret-access-key: minioadmin
    spark.sql.catalog.rocco_catalog.table-default.commit.retry.num-retries: '12'
    spark.sql.catalog.rocco_catalog.type: rest
    spark.sql.catalog.rocco_catalog.uri: >-
      http://iom-rest-catalog.iomete-system.svc.cluster.local/internal/catalogs/rocco_catalog
    spark.sql.catalog.rocco_catalog.warehouse: s3://lakehouse/rocco
    spark.sql.catalog.rocco_properties: org.apache.iceberg.spark.SparkCatalog
    spark.sql.catalog.rocco_properties.client.region: us-east-1
    spark.sql.catalog.rocco_properties.io-impl: org.apache.iceberg.aws.s3.S3FileIO
    spark.sql.catalog.rocco_properties.s3.access-key-id: minioadmin
    spark.sql.catalog.rocco_properties.s3.endpoint: https://minio.infra.svc.cluster.local:9000
    spark.sql.catalog.rocco_properties.s3.path-style-access: 'true'
    spark.sql.catalog.rocco_properties.s3.secret-access-key: minioadmin
    spark.sql.catalog.rocco_properties.table-default.read.split.planning-lookback: '15'
    spark.sql.catalog.rocco_properties.type: rest
    spark.sql.catalog.rocco_properties.uri: >-
      http://iom-rest-catalog.iomete-system.svc.cluster.local/internal/catalogs/rocco_properties
    spark.sql.catalog.rocco_properties.warehouse: s3://lakehouse/date
    spark.sql.catalog.spark_catalog: org.apache.iceberg.spark.SparkSessionCatalog
    spark.sql.catalog.spark_catalog.client.region: us-east-1
    spark.sql.catalog.spark_catalog.io-impl: org.apache.iceberg.aws.s3.S3FileIO
    spark.sql.catalog.spark_catalog.s3.access-key-id: minioadmin
    spark.sql.catalog.spark_catalog.s3.endpoint: https://minio.infra.svc.cluster.local:9000
    spark.sql.catalog.spark_catalog.s3.path-style-access: 'true'
    spark.sql.catalog.spark_catalog.s3.secret-access-key: minioadmin
    spark.sql.catalog.spark_catalog.type: rest
    spark.sql.catalog.spark_catalog.uri: >-
      http://iom-rest-catalog.iomete-system.svc.cluster.local/internal/catalogs/spark_catalog
    spark.sql.catalog.spark_catalog.warehouse: s3a://lakehouse/data/
    spark.sql.catalog.spark_connect_catalog: org.apache.iceberg.spark.SparkCatalog
    spark.sql.catalog.spark_connect_catalog.client.region: us-east-1
    spark.sql.catalog.spark_connect_catalog.io-impl: org.apache.iceberg.aws.s3.S3FileIO
    spark.sql.catalog.spark_connect_catalog.s3.access-key-id: minioadmin
    spark.sql.catalog.spark_connect_catalog.s3.endpoint: https://minio.infra.svc.cluster.local:9000
    spark.sql.catalog.spark_connect_catalog.s3.path-style-access: 'true'
    spark.sql.catalog.spark_connect_catalog.s3.secret-access-key: minioadmin
    spark.sql.catalog.spark_connect_catalog.type: rest
    spark.sql.catalog.spark_connect_catalog.uri: >-
      http://iom-rest-catalog.iomete-system.svc.cluster.local/internal/catalogs/spark_connect_catalog
    spark.sql.catalog.spark_connect_catalog.warehouse: s3://lakehouse/data/spark_connect
    spark.sql.catalog.test_catalog_shashank: org.apache.iceberg.spark.SparkCatalog
    spark.sql.catalog.test_catalog_shashank.client.region: us-east-1
    spark.sql.catalog.test_catalog_shashank.io-impl: org.apache.iceberg.aws.s3.S3FileIO
    spark.sql.catalog.test_catalog_shashank.s3.access-key-id: minioadmin
    spark.sql.catalog.test_catalog_shashank.s3.endpoint: https://minio-dev.iomete.cloud
    spark.sql.catalog.test_catalog_shashank.s3.path-style-access: 'true'
    spark.sql.catalog.test_catalog_shashank.s3.secret-access-key: minioadmin
    spark.sql.catalog.test_catalog_shashank.type: rest
    spark.sql.catalog.test_catalog_shashank.uri: >-
      http://iom-rest-catalog.iomete-system.svc.cluster.local/internal/catalogs/test_catalog_shashank
    spark.sql.catalog.test_catalog_shashank.warehouse: s3://lakehouse/test-shashank-data
    spark.sql.catalog.test_dbt_multi_catalog: org.apache.iceberg.spark.SparkCatalog
    spark.sql.catalog.test_dbt_multi_catalog.client.region: us-east-1
    spark.sql.catalog.test_dbt_multi_catalog.io-impl: org.apache.iceberg.aws.s3.S3FileIO
    spark.sql.catalog.test_dbt_multi_catalog.s3.access-key-id: minioadmin
    spark.sql.catalog.test_dbt_multi_catalog.s3.endpoint: https://minio-dev.iomete.cloud
    spark.sql.catalog.test_dbt_multi_catalog.s3.path-style-access: 'true'
    spark.sql.catalog.test_dbt_multi_catalog.s3.secret-access-key: minioadmin
    spark.sql.catalog.test_dbt_multi_catalog.type: rest
    spark.sql.catalog.test_dbt_multi_catalog.uri: >-
      http://iom-rest-catalog.iomete-system.svc.cluster.local/internal/catalogs/test_dbt_multi_catalog
    spark.sql.catalog.test_dbt_multi_catalog.warehouse: s3://lakehouse/test_dbt_multi_catalog
    spark.sql.catalog.view_testing: org.apache.iceberg.spark.SparkCatalog
    spark.sql.catalog.view_testing.client.region: us-east-1
    spark.sql.catalog.view_testing.io-impl: org.apache.iceberg.aws.s3.S3FileIO
    spark.sql.catalog.view_testing.s3.access-key-id: minioadmin
    spark.sql.catalog.view_testing.s3.endpoint: https://minio.infra.svc.cluster.local:9000
    spark.sql.catalog.view_testing.s3.path-style-access: 'true'
    spark.sql.catalog.view_testing.s3.secret-access-key: minioadmin
    spark.sql.catalog.view_testing.type: rest
    spark.sql.catalog.view_testing.uri: >-
      http://iom-rest-catalog.iomete-system.svc.cluster.local/internal/catalogs/view_testing
    spark.sql.catalog.view_testing.warehouse: s3://lakehouse/data/views
    spark.sql.catalogImplementation: hive
    spark.sql.cbo.enabled: 'true'
    spark.sql.datetime.java8API.enabled: 'false'
    spark.sql.execution.arrow.maxRecordsPerBatch: '100000'
    spark.sql.extensions: >-
      com.iomete.spark.security.api.RangerSparkSQLExtension,org.apache.iceberg.spark.extensions.IcebergSparkSessionExtensions,org.projectnessie.spark.extensions.NessieSparkSessionExtensions
    spark.sql.files.maxPartitionBytes: 256m
    spark.sql.legacy.createHiveTableByDefault: 'false'
    spark.sql.shuffle.partitions: '600'
    spark.sql.sources.default: iceberg
    spark.sql.thriftServer.incrementalCollect: 'true'
    spark.sql.thriftserver.scheduler.pool: production
    spark.ui.prometheus.enabled: 'true'
  sparkConfigMap: spark-config
  sparkVersion: 3.5.3
  timeToLiveSeconds: 3600
  type: Scala
  volumes:
    - name: truststore-volume
      secret:
        secretName: java-truststore
    - name: spark-local-dir-1
      persistentVolumeClaim:
        claimName: OnDemand